<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core" 
	xmlns:p="http://primefaces.org/ui" >
	
<h:head>
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAmsa9elUE6A0SobuxfO62ILXkEiTYer04"></script>
</h:head>
   
<h:body>

<p:layout fullPage="true">
 
    <p:layoutUnit position="north" size="100" header="Top" resizable="true" closable="false" collapsible="true">
        <h:outputText value="North unit content." />
    </p:layoutUnit>
 
    <p:layoutUnit position="south" size="100" header="Bottom" resizable="true" closable="false" collapsible="true">
        <h:outputText value="South unit content." />
    </p:layoutUnit>
 
    <p:layoutUnit id="west" position="west" size="300" header="Left" resizable="true" closable="false" collapsible="true">

<h:form id="form">  
<p:inputText id="adresse" value="#{mapsBean.adresse}" required="true" size="28" placeholder="In Google Maps suchen" />
<p:commandButton value="Suchen" icon="ui-icon-check" action="#{mapsBean.adresseSuchen}" update="adressenList geometryList" />
</h:form>

<p:dataList id="adressenList" value="#{mapsBean.listResult}" binding="#{mapsBean.dataList}" var="adr" type="ordered">
<f:facet name="header">
Adressen
</f:facet>
<h:outputText id="adr-item" value="#{adr}" />
</p:dataList>
    
<p:dataList id="geometryList" value="#{mapsBean.listGeometry}" var="geom" type="ordered">
<f:facet name="header">Geo</f:facet>
<!-- <h:outputLink id="geom-item" value="#{geom}">#{geom}</h:outputLink> -->
<h:outputLink id="geom-item" value="#{mapsBean.result}">
<f:ajax execute="geom-item" render=":gmap" />
#{geom}
</h:outputLink>
</p:dataList>




    </p:layoutUnit>
 
    <p:layoutUnit position="east" size="200" header="Right" resizable="true" closable="false" collapsible="true" effect="drop">
        <h:outputText value="Right unit content." />
    </p:layoutUnit>
 
    <p:layoutUnit id="center" position="center">
<!-- 		<p:gmap center="41.381542, 2.122893" zoom="15" type="HYBRID" style="width:100%;height:100%" /> -->
		<p:gmap id="gmap" center="#{mapsBean.result}" zoom="15" type="HYBRID" style="width:100%;height:100%" />
    </p:layoutUnit>
 
</p:layout>

</h:body>

</html>
