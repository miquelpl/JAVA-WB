<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core" 
	xmlns:p="http://primefaces.org/ui" >
	
<h:head>
</h:head>
<h:body>

<ui:composition>

<h:form id="genericTable">
<p:growl id="msgs" showDetail="true" />
<p:dataTable 
	id="dataTabelle" 
	var="table" 
	value="#{genericTableBean.table}" 
	selection="#{genericTableBean.selectedRow}" 
	rowKey="#{genericTableBean.columns[0].property}" 
	selectionMode="single">



<p:columns value="#{genericTableBean.columns}" var="column" >
<f:facet name="header">
#{column.header}
</f:facet>
<p:outputLabel value="#{table[column.property]}" />
</p:columns>
</p:dataTable>

<p:contextMenu for="dataTabelle">
<p:menuitem value="View" update="rowDetail" icon="ui-icon-search" oncomplete="PF('rowDialog').show()"/>
</p:contextMenu>

<p:dialog 
	header="#{genericTableBean.className} Info" 
	widgetVar="rowDialog" 
	modal="true" 
	showEffect="fade" 
	hideEffect="fade" 
	resizable="false">

<p:outputPanel id="rowDetail" style="text-align:center;">
<p:panelGrid  columns="2" columnClasses="label,value">
<f:facet name="header">
<p:outputLabel value="#{genericTableBean.className}" />
</f:facet>
<h:outputText value="First Name" />
<h:outputText value="#{genericTableBean.selectedRow.firstName}" />
<h:outputText value="Last Name" />
<h:outputText value="#{genericTableBean.selectedRow.lastName}" />
</p:panelGrid>
</p:outputPanel>
</p:dialog>

</h:form>

</ui:composition>

</h:body>
</html>
